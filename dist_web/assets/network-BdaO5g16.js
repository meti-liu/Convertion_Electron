import{_ as O,u as Q,r as _,c as V,o as G,a as A,b as o,d as S,e as g,j as e,k as l,l as t,I as m,Q as J,t as d,R as K,S as W,T as X,F as Y,i as Z,f as $,N as ee,O as le,P as te}from"./index-Br527wYi.js";const oe={class:"network-monitor"},ae={class:"card-header"},ne={__name:"NetworkMonitor",setup(se){const{t:r,locale:C}=Q(),h=_("0.0.0.0"),b=_(8080),u=_(!1),p=_("Stopped"),a=_([]),T=_({}),x=V(()=>u.value?"success":p.value.toLowerCase().includes("error")?"error":"info");V(()=>u.value?"running":p.value.toLowerCase().includes("error")?"error":"stopped");const L=()=>{h.value&&b.value?window.electronAPI.startTcpServer({host:h.value,port:parseInt(b.value,10)}):a.value.push("Error: Host and Port are required.")},N=()=>{window.electronAPI.stopTcpServer()},R=(v,{status:n,host:s,port:w,message:c,client:i})=>{switch(n){case"running":u.value=!0,p.value=`Running on ${s}:${w}`,a.value.push(`Server started on ${s}:${w}`);break;case"stopped":u.value=!1,p.value="Stopped",a.value.push("Server stopped.");break;case"error":u.value=!1,p.value=`Error: ${c}`,a.value.push(`Server Error: ${c}`);break;case"client-connected":a.value.push(`Client connected: ${i}`);break;case"client-disconnected":a.value.push(`Client disconnected: ${i}`);break;case"socket-error":a.value.push(`Socket error from ${i}: ${c}`);break}},F=(v,{client:n,data:s})=>{a.value.push(`Received data from ${n}:
${s}`)},U=(v,{status:n,message:s})=>{a.value.push(`File Copy: [${n.toUpperCase()}] ${s}`)};G(()=>{window.electronAPI.onTcpServerStatus(R),window.electronAPI.onTcpDataReceived(F),window.electronAPI.onUpdateLocale(D),window.electronAPI.onFileCopyStatus(U),window.electronAPI.requestInitialLocale()}),A(()=>{});const D=v=>{C.value=v};return A(()=>{}),(v,n)=>{const s=o("el-tag"),w=o("el-input"),c=o("el-form-item"),i=o("el-col"),E=o("el-input-number"),M=o("el-row"),k=o("el-icon"),I=o("el-button"),B=o("el-form"),P=o("el-divider"),q=o("el-alert"),j=o("el-scrollbar"),z=o("el-card");return g(),S("div",oe,[e(z,{class:"monitor-card"},{header:l(()=>[$("div",ae,[$("h2",null,d(t(r)("network_monitor")),1),e(s,{size:"small"},{default:l(()=>[m(d(t(C)),1)]),_:1})])]),default:l(()=>[e(B,{model:T.value,"label-position":"top",class:"server-form"},{default:l(()=>[e(M,{gutter:20},{default:l(()=>[e(i,{span:12},{default:l(()=>[e(c,{label:t(r)("host_ip_placeholder")},{default:l(()=>[e(w,{modelValue:h.value,"onUpdate:modelValue":n[0]||(n[0]=f=>h.value=f),placeholder:t(r)("host_ip_placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1}),e(i,{span:12},{default:l(()=>[e(c,{label:t(r)("port_placeholder")},{default:l(()=>[e(E,{modelValue:b.value,"onUpdate:modelValue":n[1]||(n[1]=f=>b.value=f),min:1,max:65535,placeholder:t(r)("port_placeholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1})]),_:1}),e(c,null,{default:l(()=>[e(I,{type:"primary",onClick:L,disabled:u.value},{default:l(()=>[e(k,null,{default:l(()=>[e(t(J))]),_:1}),m(" "+d(t(r)("start_server")),1)]),_:1},8,["disabled"]),e(I,{type:"danger",onClick:N,disabled:!u.value},{default:l(()=>[e(k,null,{default:l(()=>[e(t(K))]),_:1}),m(" "+d(t(r)("stop_server")),1)]),_:1},8,["disabled"])]),_:1})]),_:1},8,["model"]),e(P,{"content-position":"left"},{default:l(()=>[e(k,null,{default:l(()=>[e(t(W))]),_:1}),m(" "+d(t(r)("status_label")),1)]),_:1}),e(q,{title:p.value,type:x.value,closable:!1,"show-icon":""},null,8,["title","type"]),e(P,{"content-position":"left"},{default:l(()=>[e(k,null,{default:l(()=>[e(t(X))]),_:1}),m(" "+d(t(r)("logs_label")),1)]),_:1}),e(j,{height:"300px",class:"logs-scrollbar"},{default:l(()=>[(g(!0),S(Y,null,Z(a.value,(f,H)=>(g(),S("div",{class:"log-entry",key:H},[$("pre",null,d(f),1)]))),128))]),_:1})]),_:1})])}}},re=O(ne,[["__scopeId","data-v-fb8c76ea"]]),y=ee(re);y.use(le);y.use(te);y.mount("#app");
